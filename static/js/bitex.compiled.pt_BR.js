var g=void 0,k=!0,p=null,q=!1,r,s=this;
function t(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function v(a){return a[aa]||(a[aa]=++ba)}var aa="closure_uid_"+(1E9*Math.random()>>>0),ba=0;function ca(a,b,c){return a.call.apply(a.bind,arguments)}function da(a,b,c){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,e);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function w(a,b,c){w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:da;return w.apply(p,arguments)}function x(a,b){BitEx.prototype[a]=b}function y(a,b){function c(){}c.prototype=b.prototype;a.J=b.prototype;a.prototype=new c};var A,B,C,D;function ea(){return s.navigator?s.navigator.userAgent:p}D=C=B=A=q;var E;if(E=ea()){var fa=s.navigator;A=0==E.indexOf("Opera");B=!A&&-1!=E.indexOf("MSIE");C=!A&&-1!=E.indexOf("WebKit");D=!A&&!C&&"Gecko"==fa.product}var ga=A,G=B,H=D,I=C,ha=s.navigator,ia=-1!=(ha&&ha.platform||"").indexOf("Mac");function ja(){var a=s.document;return a?a.documentMode:g}var J;
a:{var K="",L;if(ga&&s.opera)var M=s.opera.version,K="function"==typeof M?M():M;else if(H?L=/rv\:([^\);]+)(\)|;)/:G?L=/MSIE\s+([^\);]+)(\)|;)/:I&&(L=/WebKit\/(\S+)/),L)var ka=L.exec(ea()),K=ka?ka[1]:"";if(G){var la=ja();if(la>parseFloat(K)){J=String(la);break a}}J=K}var ma={};
function N(a){var b;if(!(b=ma[a])){b=0;for(var c=String(J).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(c.length,e.length),d=0;0==b&&d<f;d++){var h=c[d]||"",m=e[d]||"",l=RegExp("(\\d*)(\\D*)","g"),F=RegExp("(\\d*)(\\D*)","g");do{var n=l.exec(h)||["","",""],u=F.exec(m)||["","",""];if(0==n[0].length&&0==u[0].length)break;b=((0==n[1].length?0:parseInt(n[1],10))<(0==u[1].length?0:parseInt(u[1],10))?-1:(0==n[1].length?0:parseInt(n[1],
10))>(0==u[1].length?0:parseInt(u[1],10))?1:0)||((0==n[2].length)<(0==u[2].length)?-1:(0==n[2].length)>(0==u[2].length)?1:0)||(n[2]<u[2]?-1:n[2]>u[2]?1:0)}while(0==b)}b=ma[a]=0<=b}return b}var na=s.document,oa=!na||!G?g:ja()||("CSS1Compat"==na.compatMode?parseInt(J,10):5);function O(){0!=pa&&(this.M=Error().stack,v(this))}var pa=0;function P(a,b){this.type=a;this.currentTarget=this.target=b}P.prototype.g=q;P.prototype.defaultPrevented=q;P.prototype.k=k;P.prototype.preventDefault=function(){this.defaultPrevented=k;this.k=q};var qa=0;function ra(){}r=ra.prototype;r.key=0;r.f=q;r.i=q;r.init=function(a,b,c,e,f,d){if("function"==t(a))this.o=k;else if(a&&a.handleEvent&&"function"==t(a.handleEvent))this.o=q;else throw Error("Invalid listener argument");this.d=a;this.proxy=b;this.src=c;this.type=e;this.capture=!!f;this.l=d;this.i=q;this.key=++qa;this.f=q};r.handleEvent=function(a){return this.o?this.d.call(this.l||this.src,a):this.d.handleEvent.call(this.d,a)};var sa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ta(a,b){for(var c,e,f=1;f<arguments.length;f++){e=arguments[f];for(c in e)a[c]=e[c];for(var d=0;d<sa.length;d++)c=sa[d],Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}};var ua;if(!(ua=!G))ua=G&&9<=oa;var va=ua,wa=G&&!N("9");!I||N("528");H&&N("1.9b")||G&&N("8")||ga&&N("9.5")||I&&N("528");H&&!N("8")||G&&N("9");var xa=Array.prototype,ya=xa.indexOf?function(a,b,c){return xa.indexOf.call(a,b,c)}:function(a,b,c){c=c==p?0:0>c?Math.max(0,a.length+c):c;if("string"==typeof a)return"string"!=typeof b||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function za(a){za[" "](a);return a}za[" "]=function(){};function Q(a,b){a&&this.init(a,b)}y(Q,P);r=Q.prototype;r.target=p;r.relatedTarget=p;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=q;r.altKey=q;r.shiftKey=q;r.metaKey=q;r.B=q;r.n=p;
r.init=function(a,b){var c=this.type=a.type;P.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(H){var f;a:{try{za(e.nodeName);f=k;break a}catch(d){}f=q}f||(e=p)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;this.offsetX=I||a.offsetX!==g?a.offsetX:a.layerX;this.offsetY=I||a.offsetY!==g?a.offsetY:a.layerY;this.clientX=a.clientX!==g?a.clientX:a.pageX;this.clientY=a.clientY!==g?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.B=ia?a.metaKey:a.ctrlKey;this.state=a.state;this.n=a;a.defaultPrevented&&this.preventDefault();delete this.g};
r.preventDefault=function(){Q.J.preventDefault.call(this);var a=this.n;if(a.preventDefault)a.preventDefault();else if(a.returnValue=q,wa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Aa={},R={},S={},T={};
function Ba(a,b,c,e,f){if("array"==t(b))for(var d=0;d<b.length;d++)Ba(a,b[d],c,e,f);else{a:{if(!b)throw Error("Invalid event type");e=!!e;var h=R;b in h||(h[b]={c:0,b:0});h=h[b];e in h||(h[e]={c:0,b:0},h.c++);var h=h[e],d=v(a),m;h.b++;if(h[d]){m=h[d];for(var l=0;l<m.length;l++)if(h=m[l],h.d==c&&h.l==f){if(h.f)break;m[l].i=q;a=m[l];break a}}else m=h[d]=[],h.c++;l=Ca();h=new ra;h.init(c,l,a,b,e,f);h.i=q;l.src=a;l.d=h;m.push(h);S[d]||(S[d]=[]);S[d].push(h);a.addEventListener?(a==s||!a.m)&&a.addEventListener(b,
l,e):a.attachEvent(b in T?T[b]:T[b]="on"+b,l);a=h}Aa[a.key]=a}}function Ca(){var a=Da,b=va?function(c){return a.call(b.src,b.d,c)}:function(c){c=a.call(b.src,b.d,c);if(!c)return c};return b}function Ea(a,b,c,e,f){if("array"==t(b))for(var d=0;d<b.length;d++)Ea(a,b[d],c,e,f);else{e=!!e;a:{d=R;if(b in d&&(d=d[b],e in d&&(d=d[e],a=v(a),d[a]))){a=d[a];break a}a=p}if(a)for(d=0;d<a.length;d++)if(a[d].d==c&&a[d].capture==e&&a[d].l==f){Fa(a[d].key);break}}}
function Fa(a){var b=Aa[a];if(b&&!b.f){var c=b.src,e=b.type,f=b.proxy,d=b.capture;c.removeEventListener?(c==s||!c.m)&&c.removeEventListener(e,f,d):c.detachEvent&&c.detachEvent(e in T?T[e]:T[e]="on"+e,f);c=v(c);if(S[c]){var f=S[c],h=ya(f,b);0<=h&&xa.splice.call(f,h,1);0==f.length&&delete S[c]}b.f=k;if(b=R[e][d][c])b.p=k,Ga(e,d,c,b);delete Aa[a]}}
function Ga(a,b,c,e){if(!e.j&&e.p){for(var f=0,d=0;f<e.length;f++)e[f].f?e[f].proxy.src=p:(f!=d&&(e[d]=e[f]),d++);e.length=d;e.p=q;0==d&&(delete R[a][b][c],R[a][b].c--,0==R[a][b].c&&(delete R[a][b],R[a].c--),0==R[a].c&&delete R[a])}}function U(a,b,c,e,f){var d=1;b=v(b);if(a[b]){var h=--a.b,m=a[b];m.j?m.j++:m.j=1;try{for(var l=m.length,F=0;F<l;F++){var n=m[F];n&&!n.f&&(d&=Ha(n,f)!==q)}}finally{a.b=Math.max(h,a.b),m.j--,Ga(c,e,b,m)}}return Boolean(d)}
function Ha(a,b){a.i&&Fa(a.key);return a.handleEvent(b)}
function Da(a,b){if(a.f)return k;var c=a.type,e=R;if(!(c in e))return k;var e=e[c],f,d;if(!va){var h;if(!(h=b))a:{h=["window","event"];for(var m=s;f=h.shift();)if(m[f]!=p)m=m[f];else{h=p;break a}h=m}f=h;h=k in e;m=q in e;if(h){if(0>f.keyCode||f.returnValue!=g)return k;a:{var l=q;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(F){l=k}if(l||f.returnValue==g)f.returnValue=k}}l=new Q;l.init(f,this);f=k;try{if(h){for(var n=[],u=l.currentTarget;u;u=u.parentNode)n.push(u);d=e[k];d.b=d.c;for(var z=n.length-
1;!l.g&&0<=z&&d.b;z--)l.currentTarget=n[z],f&=U(d,n[z],c,k,l);if(m){d=e[q];d.b=d.c;for(z=0;!l.g&&z<n.length&&d.b;z++)l.currentTarget=n[z],f&=U(d,n[z],c,q,l)}}else f=Ha(a,l)}finally{n&&(n.length=0)}return f}c=new Q(b,this);return f=Ha(a,c)};function Ia(){O.call(this)}y(Ia,O);r=Ia.prototype;r.m=k;r.q=p;r.addEventListener=function(a,b,c,e){Ba(this,a,b,c,e)};r.removeEventListener=function(a,b,c,e){Ea(this,a,b,c,e)};
r.dispatchEvent=function(a){var b=a.type||a,c=R;if(b in c){if("string"==typeof a)a=new P(a,this);else if(a instanceof P)a.target=a.target||this;else{var e=a;a=new P(b,this);ta(a,e)}var e=1,f,c=c[b],b=k in c,d;if(b){f=[];for(d=this;d;d=d.q)f.push(d);d=c[k];d.b=d.c;for(var h=f.length-1;!a.g&&0<=h&&d.b;h--)a.currentTarget=f[h],e&=U(d,f[h],a.type,k,a)&&a.k!=q}if(q in c)if(d=c[q],d.b=d.c,b)for(h=0;!a.g&&h<f.length&&d.b;h++)a.currentTarget=f[h],e&=U(d,f[h],a.type,q,a)&&a.k!=q;else for(f=this;!a.g&&f&&d.b;f=
f.q)a.currentTarget=f,e&=U(d,f,a.type,q,a)&&a.k!=q;a=Boolean(e)}else a=k;return a};function V(){O.call(this)}y(V,Ia);r=V.prototype;r.a=p;r.h=q;r.e=q;r.open=function(a){if("WebSocket"in window)this.a=new WebSocket(a);else if("MozWebSocket"in window)this.a=new MozWebSocket(a);else throw"WebSockets are not available";this.a.onopen=w(this.A,this);this.a.onclose=w(this.v,this);this.a.onmessage=w(this.z,this);this.a.onerror=w(this.w,this)};r.t=function(){return this.h};r.u=function(){return this.e};r.A=function(){this.dispatchEvent("opened");this.h=k;this.e=q};
r.v=function(){this.dispatchEvent("closed");this.e=this.h=q};r.w=function(){this.dispatchEvent("error");this.e=this.h=q};
r.z=function(a){a=JSON.parse(a.data);this.dispatchEvent(new W("raw_message",a));switch(a.MsgType){case "0":this.dispatchEvent(new W("heartbeat",a));break;case "BF":1==a.UserStatus?(this.e=k,this.dispatchEvent(new W("login_ok",a))):(this.e=q,this.dispatchEvent(new W("login_error",a)));break;case "U3":this.dispatchEvent(new W("balance_response",a));break;case "U5":this.dispatchEvent(new W("order_list_response",a));break;case "W":if(1!=a.MarketDepth){this.dispatchEvent(new W("ob_clear"));this.dispatchEvent(new W("trade_clear"));
for(var b in a.MDFullGrp){var c=a.MDFullGrp[b];switch(c.MDEntryType){case "0":case "1":this.dispatchEvent(new W("ob_new_order",c));break;case "2":this.dispatchEvent(new W("trade",c))}}}this.dispatchEvent(new W("md_full_refresh",a));break;case "X":if("3"==a.MDBkTyp)for(b in a.MDIncGrp)switch(c=a.MDIncGrp[b],c.MDEntryType){case "0":case "1":switch(c.MDUpdateAction){case "0":this.dispatchEvent(new W("ob_new_order",c));break;case "1":this.dispatchEvent(new W("ob_update_order",c));break;case "2":this.dispatchEvent(new W("ob_delete_order",
c));break;case "3":this.dispatchEvent(new W("ob_delete_orders_thru",c))}break;case "2":this.dispatchEvent(new W("trade",c))}this.dispatchEvent(new W("md_incremental_refresh",a));break;case "Y":this.dispatchEvent(new W("md_request_reject",a));break;case "8":this.dispatchEvent(new W("execution_report",a))}};r.close=function(){this.e=this.h=q;this.a.close();this.a=p};r.login=function(a,b){this.a.send(JSON.stringify({MsgType:"BE",UserReqID:"1",Username:a,Password:b,UserReqTyp:"1"}))};
r.s=function(a,b){this.a.send(JSON.stringify({MsgType:"BE",UserReqID:"3",Password:a,NewPassword:b}))};r.I=function(a,b,c){var e=parseInt(1E6*Math.random(),10);this.a.send(JSON.stringify({MsgType:"V",MDReqID:e,SubscriptionRequestType:"1",MarketDepth:a,MDUpdateType:"1",MDEntryTypes:c,Instruments:b}));return e};r.L=function(a){this.a.send(JSON.stringify({MsgType:"V",MDReqID:a,SubscriptionRequestType:"2"}))};r.H=function(a,b,c){this.a.send(JSON.stringify({MsgType:"U0",Username:a,Password:b,Email:c}))};
r.C=function(a,b,c){a=a||parseInt(1E7*Math.random(),10);this.a.send(JSON.stringify({MsgType:"U4",OpenOrdersReqID:a,Page:b||0,PageSize:c||100,StatusList:["0","1"]}));return a};function Ja(a,b,c,e,f,d){d=d||parseInt(1E7*Math.random(),10);e=parseInt(1E5*e,10);c=parseInt(1E8*c,10);a.a.send(JSON.stringify({MsgType:"D",ClOrdID:""+d,Symbol:b,Side:f,OrdType:"2",Price:e,OrderQty:c}));return d}r.r=function(a,b){var c={MsgType:"F"};a?c.OrigClOrdID=a:b&&(c.OrderID=b);this.a.send(JSON.stringify(c))};r.F=function(a){this.a.send(JSON.stringify(a))};
r.D=function(a,b,c,e){return Ja(this,a,b,c,"1",e)};r.G=function(a,b,c,e){return Ja(this,a,b,c,"2",e)};r.K=function(){this.a.send(JSON.stringify({MsgType:"1",TestReqID:Math.random()}))};function W(a,b){P.call(this,a);this.data=b}y(W,P);var X=["BitEx"],Y=s;!(X[0]in Y)&&Y.execScript&&Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());){var Ka;if(Ka=!X.length)Ka=V!==g;Ka?Y[Z]=V:Y=Y[Z]?Y[Z]:Y[Z]={}}x("open",V.prototype.open);x("close",V.prototype.close);x("login",V.prototype.login);
x("isLogged",V.prototype.u);x("isConnected",V.prototype.t);x("changePassword",V.prototype.s);x("subscribeMarketData",V.prototype.I);x("unSubscribeMarketData",V.prototype.L);x("signUp",V.prototype.H);x("requestOpenOrders",V.prototype.C);x("cancelOrder",V.prototype.r);x("sendRawMessage",V.prototype.F);x("sendBuyLimitedOrder",V.prototype.D);x("sendSellLimitedOrder",V.prototype.G);x("testRequest",V.prototype.K);x("addEventListener",V.prototype.addEventListener);x("removeEventListener",V.prototype.removeEventListener);
